# Day 15: HTTPμ™€ HTTPS
> π“… 2025.02.27 | π“ Week 3

---

## π§  ν•™μµ μ§λ¬Έ
- [x] HTTPλ” μ–΄λ–»κ² λ™μ‘ν•λ”κ°€? Statelessμ μλ―Έλ”?
- [x] HTTP λ©”μ„λ“(GET, POST, PUT, PATCH, DELETE)μ μ°¨μ΄μ™€ λ©±λ“±μ„±μ€?
- [x] HTTP μƒνƒ μ½”λ“μ μλ―Έλ”? (2xx, 3xx, 4xx, 5xx) μ£Όμ” μ½”λ“λ”?
- [x] HTTP/1.1κ³Ό HTTP/2μ μ°¨μ΄λ”? HTTP/2κ°€ λ” λΉ λ¥Έ μ΄μ λ”?
- [x] HTTP/3λ” λ¬΄μ—‡μ΄ λ‹¤λ¥Έκ°€? QUIC ν”„λ΅ν† μ½μ΄λ€?
- [x] HTTPSλ” μ–΄λ–»κ² λ³΄μ•μ„ μ κ³µν•λ”κ°€? λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤μ μ—­ν• μ€?
- [x] SSL/TLS ν•Έλ“μ…°μ΄ν¬λ” μ–΄λ–»κ² λ™μ‘ν•λ”κ°€?

---

## Q1. HTTPλ” μ–΄λ–»κ² λ™μ‘ν•λ”κ°€? Statelessμ μλ―Έλ”?

[λ‹µλ³€]
* HTTP(HyperText Transfer Protocol)
  - ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°μ—μ„ λ™μ‘ν•λ” μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ ν”„λ΅ν† μ½
  - μ”μ²­-μ‘λ‹µ λ¨λΈλ΅ λ™μ‘
  - λ¬΄μƒνƒ: κ° μ”μ²­μ€ λ…λ¦½μ 
  - URL / λ©”μ„λ“(GET/POST) / μƒνƒ μ½”λ“
  - μΌλ°μ μΈ νλ¦„
    1. μ”μ²­: ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„
    2. μ‘λ‹µ: μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ

* Stateless
  - μ„λ²„κ°€ 'μ΄μ „ μ”μ²­μ λ§¥λ½(μ„Έμ… μƒνƒ)'μ„ ν”„λ΅ν† μ½ κ΄€μ μ—μ„  μ €μ¥ν•μ§€ μ•μ

[λ³΄μ™„]
* HyperText(ν•μ΄νΌν…μ¤νΈ)
  - λ¬Έμ„ μ•μ—μ„ λ‹¤λ¥Έ λ¬Έμ„λ΅ μ΄λ™ν•λ” λ§ν¬(ν•μ΄νΌλ§ν¬)λ¥Ό ν¬ν•¨ν•λ” ν…μ¤νΈ
  - ex. HTML
  - ν„μ¬λ” HTMLλΏ μ•„λ‹λΌ JSON API, νμΌ λ‹¤μ΄λ΅λ“, μ¤νΈλ¦¬λ° λ“±μ—λ„ μ‚¬μ©

---

## Q2. HTTP λ©”μ„λ“(GET, POST, PUT, PATCH, DELETE)μ μ°¨μ΄μ™€ λ©±λ“±μ„±μ€?

[λ‹µλ³€]
* GET: λ¦¬μ†μ¤ μ΅°ν
  - λ³Έλ¬Έ X
  - λ©±λ“±μ„± O
    - μ„λ²„ μƒνƒ λ³€κ²½ X
* POST: λ¦¬μ†μ¤ μƒμ„±/μ²λ¦¬
  - λ³Έλ¬Έ O
  - λ©±λ“±μ„± X
    - λ°λ³µ μ”μ²­ μ‹ μ¤‘λ³µ μƒμ„±/μ²λ¦¬
* PUT: λ¦¬μ†μ¤ μ „μ²΄ κµμ²΄
  - λ³Έλ¬Έ O
  - λ©±λ“±μ„± O
    - λ°λ³µ μ”μ²­ν•΄λ„ μµμΆ… μƒνƒ λ™μΌ
* PATCH: λ¦¬μ†μ¤ μμ •
  - λ³Έλ¬Έ X
  - λ©±λ“±μ„±: μΌ€μ΄μ¤μ— λ”°λΌ λ‹¤λ¦„
    - 'νΉμ • κ°’μΌλ΅ μ„¤μ •'μ΄λ©΄ O, 'νΉμ • κ°’ μ¦κ°€'μ΄λ©΄ X
* DELETE: λ¦¬μ†μ¤ μ‚­μ 
  - λ³Έλ¬Έ X
  - λ©±λ“±μ„± O
    - μ΄λ―Έ μ‚­μ λ λ¦¬μ†μ¤λ¥Ό λ‹¤μ‹ μ‚­μ ν•΄λ„ μµμΆ… μƒνƒλ” λ™μΌ

[λ³΄μ™„]
* λ©±λ“±μ„±: ν•΄λ‹Ή μ”μ²­μ„ λ°λ³µν•΄μ„ ν•΄λ„ μµμΆ… μƒνƒκ°€ λ™μΌν•κ°€

---

## Q3. HTTP μƒνƒ μ½”λ“μ μλ―Έλ”? (2xx, 3xx, 4xx, 5xx) μ£Όμ” μ½”λ“λ”?

[λ‹µλ³€]
* 2xx μ„±κ³µ(Success): μ”μ²­ μ •μƒ μ²λ¦¬
  - 200 OK: μΌλ° μ„±κ³µ(μ΅°ν/μμ • μ„±κ³µ λ“±)
	- 201 Created: λ¦¬μ†μ¤ μƒμ„± μ„±κ³µ(λ³΄ν†µ Location ν—¤λ”λ΅ μƒ λ¦¬μ†μ¤ URI μ κ³µ)
  - 204 No Content: μ„±κ³µν–μ§€λ§ μ‘λ‹µ λ°”λ”” μ—†μ(μ‚­μ /μμ • ν›„ λ°”λ”” λ¶ν•„μ” μ‹)
* 3xx λ¦¬λ‹¤μ΄λ ‰μ…(Redirection): λ‹¤λ¥Έ μ„μΉλ΅ μ΄λ™ν•κ±°λ‚ μΊμ‹ ν™μ©
  - 301 Moved Permanently: μκµ¬ μ΄λ™
  - 302 Found: μ„μ‹ μ΄λ™(μ—­μ‚¬μ μΌλ΅ GETμΌλ΅ λ°”λ€λ” λ™μ‘μ΄ μ„μ—¬ νΌλ™μ΄ λ§μ)
  - 303 See Other: POST μ²λ¦¬ ν›„ κ²°κ³Ό νμ΄μ§€λ¥Ό GETμΌλ΅ μ λ„
	- 304 Not Modified: μΊμ‹ μ‚¬μ©(μ΅°κ±΄λ¶€ μ”μ²­ If-Modified-Since/ETag κΈ°λ°)
  - 307 Temporary Redirect: μ„μ‹ μ΄λ™(λ©”μ„λ“ μ μ§€)
	- 308 Permanent Redirect: μκµ¬ μ΄λ™(λ©”μ„λ“ μ μ§€)
* 4xx ν΄λΌμ΄μ–ΈνΈ μ¤λ¥(Client Error): μ”μ²­μ΄ μλ»λ¨(κ¶ν•/ν•μ‹/λ¦¬μ†μ¤ λ“±)
  - 400 Bad Request: μ”μ²­ ν•μ‹/νλΌλ―Έν„° μ¤λ¥
	- 401 Unauthorized: μΈμ¦ ν•„μ”/μ‹¤ν¨(WWW-Authenticate ν—¤λ”κ°€ ν•¨κ» μ¬ μ μμ)
  - 403 Forbidden: μΈμ¦μ€ λμ—μΌλ‚ κ¶ν• μ—†μ
  - 404 Not Found: λ¦¬μ†μ¤ μ—†μ
  - 409 Conflict: λ¦¬μ†μ¤ μƒνƒ μ¶©λ(λ²„μ „ μ¶©λ, μ¤‘λ³µ λ“±)
  - 429 Too Many Requests: κ³Όλ„ν• μ”μ²­(λ μ΄νΈ λ¦¬λ°‹)
* 5xx μ„λ²„ μ¤λ¥(Server Error): μ„λ²„ λ‚΄λ¶€ λ¬Έμ λ΅ μ²λ¦¬ μ‹¤ν¨
  - 500 Internal Server Error: μΌλ°μ μΈ μ„λ²„ μμ™Έ
  - 502 Bad Gateway: κ²μ΄νΈμ›¨μ΄/ν”„λ΅μ‹κ°€ μλ»λ μ‘λ‹µμ„ λ°›μ
  - 503 Service Unavailable: μΌμ‹μ  κ³Όλ¶€ν•/μ κ²€
  - 504 Gateway Timeout: κ²μ΄νΈμ›¨μ΄/ν”„λ΅μ‹ νƒ€μ„μ•„μ›ƒ

---

## Q4. HTTP/1.1κ³Ό HTTP/2μ μ°¨μ΄λ”? HTTP/2κ°€ λ” λΉ λ¥Έ μ΄μ λ”?

[λ‹µλ³€]
* HTTP/1.1
  - κΈ°λ³Έμ μΌλ΅ ν…μ¤νΈ κΈ°λ° ν—¤λ”/λ©”μ‹μ§€ ν•μ‹
  - ν•λ‚μ TCP μ—°κ²°μ—μ„ μ”μ²­μ„ μμ„λ€λ΅ μ „μ†΅
  - μ—¬λ¬ λ¦¬μ†μ¤ λ™μ‹ μμ‹ μ„ μ„ν•΄ λΈλΌμ°μ €κ°€ μ—¬λ¬ TCP μ—°κ²°μ„ λ³‘λ ¬λ΅ μ—΄μ
  - λ¬Έμ μ :
* HTTP/2
  - Binary Framing: λ©”μ‹μ§€ ν”„λ μ„/μ¤νΈλ¦Ό λ‹¨μ„λ΅ λ¶„ν• 
  - ν•λ‚μ TCP μ—°κ²°μ—μ„ Multiplexing(λ‹¤μ¤‘ν™”): μ—¬λ¬ μ”μ²­/μ‘λ‹µ λ™μ‹μ— μ£Όκ³ λ°›μ(μ¤νΈλ¦Ό)
  - ν—¤λ” μ••μ¶•(HPACK): λ°λ³µ ν—¤λ” μ „μ†΅ λΉ„μ© κ°μ†
  - Server Push: μ„λ²„κ°€ λ¦¬μ†μ¤ λ°€μ–΄μ¤
* HTTP/2κ°€ λ” λΉ λ¥Έ μ΄μ 
  - λ‹¤μ¤‘ν™” -> HTTP/1.1μ 'μ—¬λ¬ μ—°κ²° μƒμ„± λΉ„μ©'κ³Ό 'μ”μ²­ λ€κΈ°' ν¬κ² κ°μ†
  - ν—¤λ” μ••μ¶• -> μ”μ²­/μ‘λ‹µ μ¤λ²„ν—¤λ“ κ°μ†
  - λΈλΌμ°μ €κ°€ λ¶ν•„μ”ν•κ² λ§μ€ TCP μ—°κ²° μ—΄μ§€ μ•μ -> νΌμ΅ μ μ–΄/ν•Έλ“μ…°μ΄ν¬ λΉ„μ© κ°μ†
 
[λ³΄μ™„]
* λ‹¤μ¤‘ν™”
  - HTTP/1.1μ€ 'λ©”μ‹μ§€' λ‹¨μ„λ΅ μ „μ†΅ν•κ³ , κ° μ”μ²­/μ‘λ‹µμ΄ μμ°¨μ μΌλ΅ μ΄λ£¨μ–΄μ§
  - HTTP/2λ” λ©”μ‹μ§€λ¥Ό 'ν”„λ μ„' λ‹¨μ„λ΅ λ‚λ μ„ μ „μ†΅ + μ¤νΈλ¦Ό ID -> μ—¬λ¬ μ”μ²­/μ‘λ‹µμ΄ μμ„κ°€ μ„μ—¬ μ „μ†΅

---

## Q5. HTTP/3λ” λ¬΄μ—‡μ΄ λ‹¤λ¥Έκ°€? QUIC ν”„λ΅ν† μ½μ΄λ€?

[λ‹µλ³€]
* HTTP/3
  - μ „μ†΅ κ³„μΈµμΌλ΅ TCPκ°€ μ•„λ‹ QUIC(UDP κΈ°λ°) μ‚¬μ©
  - μ¤νΈλ¦Ό λ‹¨μ„ HOL Blocking κ°μ†: ν•λ‚μ μ—°κ²°μ—μ„ μ—¬λ¬ μ¤νΈλ¦Όμ΄ λ…λ¦½μ μΌλ΅ μ²λ¦¬ -> νΉμ • μ¤νΈλ¦Όμ ν¨ν‚· μ†μ‹¤μ΄ λ‹¤λ¥Έ μ¤νΈλ¦Όμ— λ―ΈμΉλ” μν–¥ μ¤„μ„
  - λΉ λ¥Έ μ—°κ²° μλ¦½: μ•”νΈν™”κ°€ κΈ°λ³Έ, ν•Έλ“μ…°μ΄ν¬ ν¨μ¨μ μΌλ΅ ν†µν•© -> μ΄κΈ° μ§€μ—° μ¤„μ„
  - μ—°κ²° μ΄λ™: λ¨λ°”μΌ ν™κ²½μ—μ„ IPκ°€ λ°”λ€λ” μƒν™©μ—μ„λ„ μ—°κ²°μ„ λΉ„κµμ  μμ—°μ¤λ½κ² μ μ§€
* QUIC
  - UDP μ„μ— λ™μ‘ν•λ” μ „μ†΅ ν”„λ΅ν† μ½
  - TCP + TLSμ—μ„ μ κ³µν•λ κΈ°λ¥(μ‹ λΆ°μ„±, νΌμ΅ μ μ–΄, μ•”νΈν™”) -> μ‚¬μ©μ κ³µκ°„(μ• ν”λ¦¬μΌ€μ΄μ…/λΌμ΄λΈλ¬λ¦¬)μ—μ„ κµ¬ν„
  - TCPμ™€μ μ°¨μ΄
    - μ•”νΈν™” κ²°ν•©
      - TCP: μ•”νΈν™” λ‚΄μ¥ X(HTTPSλ” TCP μ„μ— TLSλ¥Ό μ–Ήμ)
      - QUIC: TLS 1.3μ„ ν†µν•©ν•΄ κΈ°λ³Έμ μΌλ΅ μ•”νΈν™” ν†µμ‹ μ„ μ „μ 
    - μ „μ†΅ λ‹¨μ„
      - TCP: μ• ν”λ¦¬μΌ€μ΄μ…μ— ν•λ‚μ λ°”μ΄νΈ μ¤νΈλ¦Όμ„ μ κ³µ
      - QUIC: ν• μ—°κ²° μ•μ— μ—¬λ¬ λ…Όλ¦¬ μ¤νΈλ¦Ό(μ¤νΈλ¦Ό ID) μ„ λ‘κ³  μ „μ†΅/μ¬μ΅°λ¦½μ„ κ΄€λ¦¬
    - HOL(κΈ°λ‹¤λ¦Ό) μ„±κ²©
      - TCP: μμ„ λ³΄μ¥ λ•λ¬Έμ— μ¤‘κ°„ μ†μ‹¤μ΄ λ‚λ©΄ λ’¤ λ°μ΄ν„°κ°€ λ„μ°©ν•΄λ„ μ—°κ²°μ λ°”μ΄νΈ μ¤νΈλ¦Ό μ „λ‹¬μ΄ μ§€μ—°
      - QUIC: μ†μ‹¤ μν–¥μ΄ νΉμ • μ¤νΈλ¦Όμ— λ” κµ­ν•λλ„λ΅ μ„¤κ³„
    - μ—°κ²° μ‹λ³„/μ΄λ™μ„±
      - TCP: μ£Όλ΅ 4νν”(IP/ν¬νΈ) κΈ°λ° -> λ„¤νΈμ›ν¬ λ³€κ²½(μ™€μ΄νμ΄β†”LTE)μ— μ·¨μ•½
      - QUIC: Connection IDλ΅ μ—°κ²°μ„ μ‹λ³„ -> μ—°κ²° μ΄λ™(Connection Migration) μ§€μ›
    - κµ¬ν„ μ„μΉ
      - TCP: λ³΄ν†µ OS μ»¤λ„ κ³µκ°„μ— κµ¬ν„
      - QUIC: μ£Όλ΅ μ• ν”λ¦¬μΌ€μ΄μ… λΌμ΄λΈλ¬λ¦¬ ν•νƒμ μ‚¬μ©μ κ³µκ°„ κµ¬ν„μ΄ λ§μ -> μ—…λ°μ΄νΈ/κ°μ„  λΉ λ¦„

---

## Q6. HTTPSλ” μ–΄λ–»κ² λ³΄μ•μ„ μ κ³µν•λ”κ°€? λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤μ μ—­ν• μ€?

[λ‹µλ³€]
* HTTPS
  - HTTP + TLS
  - HTTP λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κΈ° μ „μ— TLSλ΅ ν†µμ‹ μ„ μ•”νΈν™”/λ³΄νΈ
  - μ κ³µ λ³΄μ•
    - κΈ°λ°€μ„±(Confidentiality): μ 3μκ°€ λ„μ²­ν•΄λ„ ν•΄λ… λ¶κ°€
    - λ¬΄κ²°μ„±(Integrity): μ „μ†΅ μ¤‘ λ³€μ΅° νƒμ§€/λ°©μ§€
    - μΈμ¦(Authentication): μ„λ²„κ°€ μ§„μ§ ν•΄λ‹Ή λ„λ©”μΈμ μ„λ²„μΈμ§€ ν™•μΈ(μΈμ¦μ„ κΈ°λ°)
* λ€μΉ­ν‚¤/λΉ„λ€μΉ­ν‚¤ μ—­ν• 
  - λ€μΉ­ν‚¤(μ„Έμ… ν‚¤): μ‹¤μ  λ°μ΄ν„°(HTTP μ”μ²­/μ‘λ‹µ)λ¥Ό λΉ λ¥΄κ² μ•”νΈν™”
  - λΉ„λ€μΉ­ν‚¤(κ³µκ°ν‚¤/κ°μΈν‚¤): 'μ„λ²„ μ‹ μ› μ¦λ…(μΈμ¦μ„)' λ° 'ν‚¤ κµν™(μ„Έμ… ν‚¤ ν•©μ)'μ— μ‚¬μ©
  - λΉ„λ€μΉ­ν‚¤ μ•”νΈλ” κ³„μ‚° λΉ„μ©μ΄ νΌ -> μ‹¤λ°μ΄ν„°λ¥Ό κ³„μ† λΉ„λ€μΉ­μΌλ΅ μ•”νΈν™”ν•κΈ° λ³΄λ‹¨ μ΄κΈ°μ— λ€μΉ­ μ„Έμ… ν‚¤ ν•©μ -> κ·Έ ν‚¤λ΅ λΉ λ¥΄κ² ν†µμ‹ 

[λ³΄μ™„]
* λ€μΉ­ μ„Έμ… ν‚¤ ν•©μ
  - TLS 1.2: κ³µκ°ν‚¤λ΅ λ€μΉ­ν‚¤λ¥Ό μ•”νΈν™”ν•΄ μ „λ‹¬ -> κ°μΈν‚¤λ΅ λ³µνΈν™”ν•΄ λ€μΉ­ν‚¤ μ‚¬μ©
  - DHE κΈ°λ° ν‚¤ ν•©μ
    - ν΄λΌμ΄μ–ΈνΈ, μ„λ²„κ°€ κ°κ° μ„μ‹ λΉ„λ€μΉ­ ν‚¤ μ μƒμ„±
    - κ³µκ°κ°’ κµν™
    - κ°™μ€ 'κ³µμ  λΉ„λ°€'μ„ κ°μ κ³„μ‚°
    - κ³µμ  λΉ„λ°€μ—μ„ λ€μΉ­ μ„Έμ… ν‚¤ νμƒ -> λ°μ΄ν„° μ•”νΈν™”μ— μ‚¬μ©
   
* μ„λ²„κ°€ μ§„μ§ ν•΄λ‹Ή λ„λ©”μΈμ μ„λ²„μΈμ§€ ν™•μΈν•λ” λ²•
  - μΈμ¦μ„: λ„λ©”μΈ μ΄λ¦„(SAN) + μ„λ²„ κ³µκ°ν‚¤ + μ ν¨κΈ°κ°„/μ©λ„ + λ°κΈ‰μ + CA μ„λ…
  - CA(μΈμ¦κΈ°κ΄€)
    - μΈμ¦μ„ μ„λ…: λ„λ©”μΈ ν†µμ  λ“± κ²€μ¦ν• ν›„ λ„λ©”μΈ <-> μ„λ²„ κ³µκ°ν‚¤ λ°”μΈλ”©μ— CAκ°μΈν‚¤λ΅ μ„λ…
    - λΈλΌμ°μ €/OSλ” λ£¨νΈ CA μ‹ λΆ° λ©λ΅(Trust Store)μ„ κΈ°λ³Έ νƒ‘μ¬ (μ—…λ°μ΄νΈλ΅ κ΄€λ¦¬)
      - λΈλΌμ°μ € κ²€μ¦
        1. μΈμ¦μ„ μ²΄μΈ(μ¤‘κ°„->λ£¨νΈ) μ„λ… κ²€μ¦
        2. μ ‘μ† λ„λ©”μΈκ³Ό SAN μΌμΉ ν™•μΈ
        3. μ ν¨κΈ°κ°„/νκΈ°(OCSP/CRL)/μ©λ„ λ“± μ •μ±… ν™•μΈ
      - μ„λ²„κ°€ μ§„μ§μ„μ„ μ¦λ…
        - ν•Έλ“μ…°μ΄ν¬: μ„λ²„ κ°μΈν‚¤ λ³΄μ  μ¦λ…
        - ν΄λΌμ΄μ–ΈνΈλ” μΈμ¦μ„ κ³µκ°ν‚¤λ΅ κ²€μ¦
    - μ ν¨ν• μ΄μ : λ‹¤λ¥Έ λ„λ©”μΈμ΄ μ¤‘κ°„μ— κ»΄λ„(MITM), λ„λ©”μΈ μΌμΉ + κ³µμΈ CA μ²΄μΈ + κ°μΈν‚¤ λ³΄μ  μ¦λ… λ™μ‹ λ§μ΅±ν•΄μ•Ό ν•¨

---

## Q7. SSL/TLS ν•Έλ“μ…°μ΄ν¬λ” μ–΄λ–»κ² λ™μ‘ν•λ”κ°€?

[λ‹µλ³€]
* TLS ν•Έλ“μ…°μ΄ν¬
  - μ•”νΈν™” ν†µμ‹ μ„ μ‹μ‘ν•κΈ° μ„ν• ν•©μ κ³Όμ •
    1. μ•”νΈ μ¤μ„νΈ ν‘μƒ: μ‚¬μ©ν•  μ•”νΈ μ•κ³ λ¦¬μ¦ μ΅°ν•© μ •ν•¨(ν‚¤ κµν™/μ„λ…/λ€μΉ­ μ•”νΈ/MAC λ“±)
    2. μ„λ²„ μΈμ¦: μ„λ²„κ°€ μΈμ¦μ„ μ μ‹ -> ν΄λΌμ΄μ–ΈνΈλ” CA μ²΄μΈ/λ„λ©”μΈ μΌμΉ/μ ν¨κΈ°κ°„ λ“± κ²€μ¦
    3. μ„Έμ… ν‚¤ ν•©μ: μ΄ν›„ ν†µμ‹ μ— μ‚¬μ©ν•  λ€μΉ­ν‚¤ μ•μ „ν•κ² μƒμ„± λ° κ³µμ 
    4. ν•Έλ“μ…°μ΄ν¬ μ™„λ£ ν™•μΈ: μ–‘μ½μ΄ λ™μΌ ν‚¤/νλΌλ―Έν„°λ¥Ό κ°–κ³  μμμ„ ν™•μΈ ν›„ μ•”νΈν™” λ°μ΄ν„° ν†µμ‹  μ‹μ‘
  - νλ¦„
    - ClientHello: μ§€μ› λ²„μ „/μ•”νΈ μ¤μ„νΈ/λλ¤ κ°’ λ“± μ „λ‹¬
    - ServerHello: μ„ νƒν• λ²„μ „/μ•”νΈ μ¤μ„νΈ μ „λ‹¬ + μ„λ²„ μΈμ¦μ„ μ „λ‹¬
    - ν‚¤ κµν™/μ„λ… κ΄€λ ¨ λ©”μ‹μ§€: μ„Έμ… ν‚¤ ν•©μλ¥Ό μ„ν• κ°’ κµν™”
    - Finished: ν•Έλ“μ…°μ΄ν¬ λ¬΄κ²°μ„± κ²€μ¦ ν›„ μ•”νΈν™” ν†µμ‹  μ‹μ‘

[λ³΄μ™„]
* TCP ν•Έλ“μ…°μ΄ν¬λ” L4μ—μ„, TLS ν•Έλ“μ…°μ΄ν¬λ” L5~L7μ—μ„ λ™μ‘
* TCP ν•Έλ“μ…°μ΄ν¬ ν›„ TLS ν•Έλ“μ…°μ΄ν¬

---

# μ„λ²„κ°€ μ§„μ§ ν•΄λ‹Ή λ„λ©”μΈμ μ„λ²„μΈμ§€ ν™•μΈν•λ” λ²•
  - κ°μΈν‚¤/κ³µκ°ν‚¤λ” λ³µνΈν™”/μ•”νΈν™”λΏ μ•„λ‹λΌ μ„λ…/κ²€μ¦μ—λ„ μ‚¬μ©λ¨
  ## 0) λ“±μ¥μΈλ¬Όκ³Ό ν‚¤(μ•νλ²³ ν‘κΈ°)
    ### ν‚¤ μ μ •μ
    - μ„λ²„(example.com)μ ν‚¤ μ
      - μ„λ²„ κ°μΈν‚¤: s
	    - μ„λ²„ κ³µκ°ν‚¤: S
	  - μ¤‘κ°„ CAμ ν‚¤ μ
	    - μ¤‘κ°„ CA κ°μΈν‚¤: i
	    - μ¤‘κ°„ CA κ³µκ°ν‚¤: I
	  - λ£¨νΈ CAμ ν‚¤ μ
	    - λ£¨νΈ CA κ°μΈν‚¤: r
	    - λ£¨νΈ CA κ³µκ°ν‚¤: R
	    - Rμ€ λΈλΌμ°μ €/OS Trust Storeμ— λ―Έλ¦¬ λ“¤μ–΄μμ(μ‹ λΆ° μ•µμ»¤)

    ### μ©μ–΄
    - Sign(priv, data) = κ°μΈν‚¤λ΅ dataμ— μ„λ…
	  - Verify(pub, data, sig) = κ³µκ°ν‚¤λ΅ μ„λ… κ²€μ¦
	  - H(...) = ν•΄μ‹(μ”μ•½)
	  - β€μΈμ¦μ„ λ‚΄μ©β€μ„ Cert_serverλΌκ³  λ¶€λ¥΄κ² μµλ‹λ‹¤.

 ## 1) CAκ°€ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•λ” κ³Όμ •
    ### (1) μ„λ²„κ°€ ν‚¤ μƒμ„±: (s,S) - s(κ°μΈν‚¤)λ” μ„λ²„μ—λ§ μ•μ „ν•κ² λ³΄κ΄€. μ™Έλ¶€ κ³µκ° X
    ### (2) μ„λ²„κ°€ CSR μƒμ„±
      - CAμ—κ² 'μ΄ λ„λ©”μΈ(example.com)μ— λ€ν•΄ μ΄ κ³µκ°ν‚¤ Sλ¥Ό μ“°κ² λ‹¤' μ”μ²­
      - CSR
        - λ„λ©”μΈ(example.com)
        - μ„λ²„ κ³µκ°ν‚¤(S)
        - μ„λ…: Sign(s, H(CSR_body))
    ### (3) CAκ°€ λ„λ©”μΈ ν†µμ  κ²€μ¦
      - CA: μ”μ²­μκ°€ example.comμ„ ν†µμ ν•λ” μ£Όμ²΄μΈμ§€ ν™•μΈ
        - ex. example.com DNSμ— νΉμ • TXT λ μ½”λ“ μ‚½μ… -> https://example.com/.well-known/...μ— ν† ν° μ¬λ¦¬κΈ°
          => μ„±κ³µν•λ©΄ λ„λ©”μΈ ν†µμ  OK
    ### (4) CAκ°€ λ„λ©”μΈ<->κ³µκ°ν‚¤ μ„λ…ν•΄ μΈμ¦μ„ λ°κΈ‰
      - μΈμ¦μ„ λ³Έλ¬Έ(μ„λ… λ€μƒ λ°μ΄ν„°)μ— μ•„λ μ‚½μ…
        - SAN: example.com
        - μ„λ²„ κ³µκ°ν‚¤: S
        - μ ν¨κΈ°κ°„, μ©λ„(EKU), μ‹λ¦¬μ–Ό λ²νΈ λ“±
        => TBS_server(To-Be-Signed λ¶€λ¶„)
      - μ¤‘κ°„ CAκ°€ μ„λ…: sig_i = Sign(i, H(TBS_server)) <= μ„λ²„ μΈμ¦μ„λ” μ¤‘κ°„ CA κ°μΈν‚¤ iλ΅ μ„λ…
      - μµμΆ… μ„λ²„ μΈμ¦μ„: Cert_server = (TBS_server, sig_i, issuer=IntermediateCA)

  ## 2) λΈλΌμ°μ €μ μΈμ¦μ„ κ²€μ¦(μ²΄μΈ κ²€μ¦)
    - μ„λ²„ μ ‘μ† μ‹ λ‹¤μμ„ μ κ³µ
      - Cert_server: μ„λ²„ μΈμ¦μ„. μ¤‘κ°„ CAκ°€ μ„λ…
      - Cert_intermediate: μ¤‘κ°„ CA μΈμ¦μ„. λ£¨νΈκ°€ μ„λ…ν–κ±°λ‚ μƒμ„κ°€ μ„λ…
      - λ£¨νΈ μΈμ¦μ„λ” λΈλΌμ°μ €κ°€ μ΄λ―Έ κ°€μ§€κ³  μμ
    ### (1) μ„λ²„ μΈμ¦μ„ μ„λ… κ²€μ¦
      - λΈλΌμ°μ €λ” μ¤‘κ°„ CA κ³µκ°ν‚¤ Iλ΅ κ²€μ¦ (μ„λ²„ μΈμ¦μ„μ issuerκ°€ μ¤‘κ°„ CA)
        : Verify(I, H(TBS_server), sig_i)κ°€ μ„±κ³µ
        => TBS_serverκ°€ μ¤‘κ°„ CAμ— μν•΄ μΉμΈ, μ„λ…λ¨ + μ „μ†΅ μ¤‘ λ‚΄μ©μ΄ λ°”λ€μ§€ μ•μ
    ### (2) μ¤‘κ°„ CA μΈμ¦μ„ κ²€μ¦
      - λΈλΌμ°μ €λ” Trust Storeμ λ£¨νΈ κ³µκ°ν‚¤ Rλ΅ κ²€μ¦
        : Verify(R, H(TBS_intermediate), sig_r)κ°€ μ„±κ³µ
        => 'chain'. λ£¨νΈλ¥Ό 'μ‹ λΆ° μ•µμ»¤' -> λ£¨νΈ(R)κ°€ μ¤‘κ°„(I) μ‹ λΆ° μ„λ… -> μ¤‘κ°„(I)μ΄ μ„λ²„(S) μ‹ λΆ° μ„λ…
    ### (3) λ„λ©”μΈ μΌμΉ κ²€μ‚¬
      - λΈλΌμ°μ €λ” μ‚¬μ©μκ°€ μ ‘μ†ν• νΈμ¤νΈκ°€ example.comμ΄λ©΄
        - μΈμ¦μ„ TBS_serverμ SANμ— example.comμ΄ μλ”μ§€ ν™•μΈ
        - μ—†μΌλ©΄ μ‹¤ν¨
    ### (4) μ •μ±… κ²€μ‚¬
      - μ ν¨κΈ°κ°„, EKU/KeyUsage
      - νκΈ° μ—¬λ¶€(OCSP/CRL λ“±)
      => μ΄ μΈμ¦μ„ λ‚΄μ©μ€ μ‹ λΆ°ν•  μ μλ‹¤

    **"SλΌλ” κ³µκ°ν‚¤κ°€ example.comμ— μ†ν•λ‹¤λ” CAμ μ£Όμ¥μ„ μ‹ λΆ°ν•λ‹¤"**
    **μ§€κΈ μ—°κ²°λ μ„λ²„κ°€ s(κ°μΈν‚¤)λ¥Ό κ°€μ§€κ³  μλ”κ°€?**

  ## 3) κ°μΈν‚¤ λ³΄μ  μ¦λ… (ν„μ¬ μ„λ²„κ°€ μ§„μ§ μ£ΌμΈμΈκ°€?)
    ### (1) ν•Έλ“μ…°μ΄ν¬ transcript ν•΄μ‹
      - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ§€κΈκΉμ§€ μ£Όκ³ λ°›μ€ μ¤‘μ”ν• ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€λ¥Ό λ¨μ•„ ν•΄μ‹:
        - transcript = (ClientHello, ServerHello, EncryptedExtensions, Certificate, ...)
        - th = H(transcript) (transcript hash)
    ### (2) μ„λ²„κ°€ μμ‹ μ κ°μΈν‚¤ sλ΅ thμ— μ„λ…
      - sig_s = Sign(s, th) => CertificateVerifyμ— λ“¤μ–΄κ°
    ### (3) ν΄λΌμ΄μ–ΈνΈλ” μΈμ¦μ„μ κ³µκ°ν‚¤ Sλ΅ μ„λ… κ²€μ¦
      - Verify(S, th, sig_s)κ°€ μ„±κ³µ
        => μ§€κΈ ν†µμ‹  μ¤‘μΈ μƒλ€λ” Sμ— λ€μ‘ν•λ” κ°μΈν‚¤ sλ¥Ό μ‹¤μ λ΅ κ°€μ§„λ‹¤
          (μ¤‘κ°„μ— MITMμ΄ λ©”μ‹μ§€λ¥Ό λ°”κΎΈλ©΄ thκ°€ λ‹¬λΌμ§ -> κ²€μ¦μ— μ‹¤ν¨)

  ## 4) MITM(Man-In-The-Middle) μ‹¤ν¨ μΌ€μ΄μ¤
    ### μΌ€μ΄μ¤ A: κ³µκ²©μκ°€ μκΈ° μΈμ¦μ„(λ„λ©”μΈ=evil.com)λ¥Ό μ κ³µ
      => λΈλΌμ°μ €κ°€ SAN κ²€μ‚¬μ—μ„ λ°”λ΅ μ‹¤ν¨(λ„λ©”μΈ λ¶μΌμΉ)
    ### μΌ€μ΄μ¤ B: κ³µκ²©μκ°€ example.com μΈμ¦μ„λ¥Ό β€λ³µμ‚¬β€™ν•΄μ„ μ κ³µ
      - μΈμ¦μ„ μ²΄μΈ/λ„λ©”μΈ κ²€μ‚¬λ” ν†µκ³Ό κ°€λ¥
      - κ·Έλ¬λ‚ κ³µκ²©μλ” sλ¥Ό λ¨λ¦„: CertificateVerifyμ—μ„ sig_s = Sign(s, th) μƒμ„± λ¶κ°€
      => Verify(S, th, sig_s)μ—μ„ μ‹¤ν¨
    ### μΌ€μ΄μ¤ C: κ³µκ²©μκ°€ μ„μ΅° μΈμ¦μ„λ¥Ό μƒμ„±(λ„λ©”μΈ=example.com, κ³µκ°ν‚¤=κ³µκ²©μ ν‚¤ A)
      => κ³µμΈ CA μ„λ… X -> μ²΄μΈ κ²€μ¦μ—μ„ μ‹¤ν¨
      
---

## π“ μ°Έκ³  μλ£
<!-- κ³µλ¶€ν•λ©΄μ„ μ°Έκ³ ν• λ§ν¬λ¥Ό μ—¬κΈ°μ— μ¶”κ°€ν•΄μ£Όμ„Έμ” -->

---

## π’¬ ν† λ΅  ν¬μΈνΈ
<!-- PR λ¦¬λ·° λλ” μ¤ν„°λ”” μ¤‘ λ‚μ¨ μ¶”κ°€ μ§λ¬Έμ΄λ‚ λ…Όμ μ‚¬ν•­μ„ κΈ°λ΅ν•΄μ£Όμ„Έμ” -->
