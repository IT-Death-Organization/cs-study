# Day 7: CPU 스케줄링
> 📅 2025.02.19 | 📁 Week 1

---

## 🧠 학습 질문

- [ ] CPU 스케줄링이 필요한 이유는?
- [ ] FCFS, SJF, RR, Priority 스케줄링의 장단점은?
- [ ] 선점형과 비선점형 스케줄링의 차이는? 각각의 예시는?
- [ ] SJF가 평균 대기 시간이 가장 짧은 이유는? 왜 실무에서 사용 안 하는가?
- [ ] Round Robin에서 Time Quantum이 너무 크거나 작으면 어떤 문제가 생기는가?
- [ ] 기아 상태(Starvation)는 무엇이며 어떻게 해결하는가? (Aging)
- [ ] 컨보이 효과(Convoy Effect)란 무엇이며 어떤 스케줄링에서 발생하는가?

---
## 1. "CPU 스케줄링이 필요한 이유는?"

### 1) 핵심 정의
CPU 스케줄링이란, Ready Queue에 있는 여러 프로세스 중 어떤 프로세스에게 CPU를 할당할지 결정하는 정책이다.

### 2) 왜 필요한가?
CPU는 한 순간에 하나의 프로세스만 실행 가능하다.  
하지만 메모리에는 여러 프로세스가 동시에 올라와 있다(멀티프로그래밍).

따라서:
- CPU를 누구에게 먼저 줄지
- 얼마나 오래 줄지
- 언제 뺏을지

를 결정해야 한다.

### 3) 스케줄링이 필요한 구체적 이유

1. CPU 활용률 증가
   - I/O 작업 때문에 대기하는 동안 CPU가 놀지 않게 하기 위함

2. 응답 시간 개선
   - 사용자가 버튼을 눌렀을 때 빠르게 반응하도록 하기 위함

3. 공정성 보장
   - 특정 프로세스만 계속 실행되지 않도록 방지

4. 평균 대기 시간 최소화
   - 전체 시스템 효율 최적화

### 4) 예시

예:
P1: CPU 10초  
P2: CPU 1초  
P3: CPU 2초  

스케줄링이 없다면 순서가 엉망이 될 수 있고,
잘못하면 짧은 작업이 오래 기다리게 된다.

---

## 2. "FCFS, SJF, RR, Priority 스케줄링의 장단점은?"

### 1) FCFS (First Come First Served)

- 먼저 온 순서대로 처리
- 비선점형

장점:
- 구현 매우 간단
- 공정해 보임

단점:
- 컨보이 효과 발생
- 평균 대기 시간 큼

---

### 2) SJF (Shortest Job First)

- CPU 사용 시간이 가장 짧은 작업 먼저

장점:
- 평균 대기 시간 최소
- 이론적으로 최적

단점:
- 실행 시간 예측 불가
- 긴 작업 기아 상태 발생 가능

---

### 3) RR (Round Robin)

- 일정 시간(Time Quantum)씩 번갈아 실행
- 선점형

장점:
- 응답 시간 빠름
- 인터랙티브 시스템에 적합

단점:
- 문맥 교환 오버헤드
- Time Quantum 설정이 어려움

---

### 4) Priority Scheduling

- 우선순위 높은 프로세스 먼저 실행

장점:
- 중요한 작업 먼저 처리 가능

단점:
- 낮은 우선순위 기아 상태 발생

---

## 3. "선점형과 비선점형 스케줄링의 차이는? 각각의 예시는?"

### 1) 비선점형 (Non-preemptive)
CPU를 할당받으면 스스로 끝날 때까지 사용

예:
- FCFS
- SJF (기본형)

특징:
- 구현 단순
- 응답성 낮음

---

### 2) 선점형 (Preemptive)
운영체제가 강제로 CPU를 뺏을 수 있음

예:
- Round Robin
- 선점형 Priority

특징:
- 응답성 좋음
- 문맥 교환 비용 발생

---

## 4. "SJF가 평균 대기 시간이 가장 짧은 이유는? 왜 실무에서 사용 안 하는가?"

### 1) 평균 대기 시간이 최소인 이유

짧은 작업을 먼저 처리하면,
뒤에 오는 긴 작업 하나만 기다리면 되지만,

긴 작업을 먼저 하면,
짧은 작업들이 모두 기다려야 한다.

즉,
작은 값부터 더하는 것이 합이 최소가 된다.
(그리디 최적 전략)

---

### 2) 실무에서 사용 안 하는 이유

1. CPU 실행 시간 사전 예측 불가
2. 긴 작업 기아 상태 발생
3. 실시간성 보장 어려움

따라서 실제로는
→ 예측 기반 SJF (exponential averaging) 같은 방식 사용

---

## 5. "Round Robin에서 Time Quantum이 너무 크거나 작으면 어떤 문제가 생기는가?"

### 1) 너무 큰 경우

→ FCFS처럼 동작  
→ 응답 시간 나빠짐

예:
Time Quantum = 100ms  
모든 프로세스가 20ms 작업이면 의미 없음

---

### 2) 너무 작은 경우

→ 문맥 교환 과다  
→ CPU 시간 낭비

예:
Time Quantum = 1ms  
Context Switch 비용이 0.5ms라면
50%가 낭비됨

---

### 3) 이상적인 설정

- Context Switch 비용보다 충분히 커야 함
- 사람 체감 응답 시간(약 100ms 이내) 고려

---

## 6. "기아 상태(Starvation)는 무엇이며 어떻게 해결하는가? (Aging)"

### 1) 정의

특정 프로세스가 CPU를 계속 할당받지 못하는 상태

주로:
- Priority Scheduling
- SJF

에서 발생

---

### 2) 해결 방법: Aging

대기 시간이 길어질수록
우선순위를 점점 올려준다.

예:
1초 기다릴 때마다 priority +1

그러면 결국 실행 기회를 얻는다.

---

## 7. "컨보이 효과(Convoy Effect)란 무엇이며 어떤 스케줄링에서 발생하는가?"

### 1) 정의

하나의 긴 CPU 작업 때문에
여러 짧은 작업이 줄줄이 기다리는 현상

---

### 2) 발생하는 스케줄링

- FCFS (대표적)

---

### 3) 예시

P1: 100ms  
P2: 1ms  
P3: 2ms  

순서가 P1 → P2 → P3이면

P2, P3는 불필요하게 오래 기다림

결과:
- 평균 대기 시간 증가
- CPU/I/O 효율 저하

---

### 4) 해결 방법

- SJF
- Round Robin
- 선점형 스케줄링

---

## 📎 참고 자료
<!-- 공부하면서 참고한 링크를 여기에 추가해주세요 -->

---

## 💬 토론 포인트
<!-- PR 리뷰 또는 스터디 중 나온 추가 질문이나 논의 사항을 기록해주세요 -->
