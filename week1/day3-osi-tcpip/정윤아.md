# Day 3: OSI 7계층과 TCP/IP 4계층

> 📅 2025.02.15 | 📁 Week 1

---

## 🧠 학습 질문

- [x] OSI 7계층은 왜 나누어졌는가? 계층화의 장점은?
- [x] 각 계층의 역할과 프로토콜 예시는?
- [x] TCP/IP 4계층과 OSI 7계층의 차이는?
- [x] 캡슐화와 역캡슐화란 무엇이며 어떻게 동작하는가?
- [x] 실제 통신에서는 어떤 모델을 사용하는가?
- [x] 계층을 넘어서 통신할 수 없는 이유는?

---

## Q1. OSI 7계층은 왜 나누어졌는가? 계층화의 장점은?

[답변]
* 기능별로 모듈화 -> 표준화를 통해 서로 다른 장비나 소프트웨어를 사용하더라도 호환됨
    - 어떤 기능은 어느 계층에서 어떤 방식으로 처리한다
* 계층별 책임 분리 -> 각 계층의 독립적인 설계, 구현, 교체가 용이해짐.
    - 이게 없으면 통신이 '한 덩어리'로 처리되는데, 이는 복잡도를 증가시킴
* 재사용성 및 유지보수/확장: 특정 계층에 변화가 있어도, 해당 계층만 변경하면 됨.
* 장애 분석 시 원인 범위를 단계적으로 좁히기 쉬움

[보완]
* 계층이 없다면 어떻게 통신할까?
- 채팅 메시지 "안녕" 보낼 때 개발자가 할 일
    1. 계층 O
        - 앱: "안녕" -> send()
    2. 계층 X
        - 수신자 찾는 방식 정의
        - 라우팅 규칙 구현
        - 메시지 경계 표시, 인코딩 정의
        - 오류 검출, 손실/중복 로직 작성
        - seq/ack, 타임아웃, 재전송 구현
        - 혼잡 제어
        - 암호화/키 교환 및 인증 설계
        - 실제 매체에 맞춰 '프레임' 구성 후 전송

[정리]
통신 기능을 계층별로 분리해 표준화·상호운용성을 확보하고, 변경 영향 범위를 최소화하여 재사용·확장·유지보수·장애 분석을 쉽게 하기 위함

---

## Q2. 각 계층의 역할과 프로토콜 예시는?

[답변]
* L1 물리(Physical) 계층
    - 비트를 전기/광 신호로 전달
    * 프로토콜: Ethernet 물리 규격(1000BASE-T), 광(10GBASE-SR), Wi-Fi 물리(802.11 PHY)
* L2 데이터 링크(Data Link) 계층
    - 같은 링크 내에서 비트를 '프레임' 단위로 구분
    - 같은 LAN 안애서 MAC 주소 사용 (장치 식별)
    - 오류 검출
    - 매체 접근 제어: 같은 매체를 여러 장치가 공유 -> 누가 언제 전송할지 결정
    - 논리적 분리: VLAN
    * 프로토콜: Ethernet(802.3), Wi-Fi(802.11 MAC), VLAN(802.1Q), ARP(실무에서 L2~L3 경계로도 봄)
* L3 네트워크(Network) 계층
    - 서로 다른 네트워크 간 전달(라우팅)
    - IP 주소 사용
    - 라우팅: 어떤 경로로 갈지에 대한 라우팅 테이블 생성
    - 포워딩: 들어온 패킷을 라우팅 테이블을 보고 실제로 다음 홉으로 전달
    * 프로토콜: IP(IPv4/IPv6), ICMP, 라우팅 프로토콜(OSPF, BGP)
* L4 전송(Transport) 계층
    - 종단 간 전송, 포트, 신뢰성/흐름/혼잡 제어
    * 프로토콜: TCP, UDP, QUIC(UDP 기반 전송/보안 통합)
* L5 세션(Session) 계층
    - 통신 세션의 설정/유지/종료
    * 프로토콜: (전통적 OSI 관점) RPC, NetBIOS 세션 등
* L6 표현(Presentation) 계층
    - TCL 데이터 표현/변환, 압축, 암호화
    * 프로토콜: TLS(암호화는 실무에서 L4~L7 사이로 취급), UTF-8, JPEG, ASN.1
* L7 응용(Application) 계층
    - 사용자/프로그램이 사용하는 네트워크 서비스
    * 프로토콜: HTTP/HTTPS, DNS, SMTP, FTP, SSH

[보완]
* '같은 링크': L2에서 프레임을 MAC 주소로 직접 주고받을 수 있는 한 구간 -> L3를 거치지 않고 L2만으로 도달 가능한 범위
=> '스위치' 만으로 도달 가능한 범위

* 스위치 vs 라우터
  - 스위치: L2. 같은 링크 안에서 MAC 주소를 보고 프레임 전달
  - 라우터: L3. 서로 다른 네트워크 사이를 IP 주소를 보고 패킷을 라우팅

---

## Q3. TCP/IP 4계층과 OSI 7계층의 차이는?

[답변]
* OSI 7계층: 이론적 표준화 모델의 성격이 강함
  - 계층이 세분화 -> 설명/교육/분석에 유리
* TCP/IP 4계층: 실제 인터넷에서 사용되는 프로토콜 집한 기반 모델
  - 실제 구현과 운영 중심
  - 4계층
    - 링크(Link): L1 + L2
    - 인터넷(Internet): L3
    - 전송(Transport): L4
    - 응용(Application): L5 + L6 + L7

---

## Q4. 캡슐화와 역캡슐화란 무엇이며 어떻게 동작하는가?

[답변]
* 캡슐화: 송신 측에서 상위 계층의 데이터에 각 계층의 헤더를 붙여 하위 계층으로 전달하는 과정
* 역캡슐화: 수신 측에서 하위 계층의 데이터를 가져와 헤더를 해석 및 제거하고 상위 계층에 원래 데이터를 전달하는 과정

* 캡슐화 동작(ex. 웹 접속)
  - L7: HTTP 요청 데이터 생성
  - L4: TCP 헤더(출발지/목적지 포트, 순서번호 등) 추가 -> TCP 세그먼트
  - L3: IP 헤더(출발지/목적지 IP, TTL 등) 추가 -> IP 패킷
  - L2: Ethernet 헤더/트레일러(MAC, FCS) 추가 -> 프레임
  - L1: 비트 신호로 전송
  - 역캡슐화: L1 -> L7 순서. 해당 계층의 헤더만 해석하고 페이로드를 상위로 전달

---

## Q5. 실제 통신에서는 어떤 모델을 사용하는가?

[답변]
* 실제 통신: TCP/TP 모델 기반
* 학습/설계/분석/트러블슈팅: OSI 7계층 관점

---

## Q6. 계층을 넘어서 통신할 수 없는 이유는?

[답변]
* 통신은 인접 계층 간 인터페이스를 통해서만 가능
  - 책임 분리: L7이 IP 라우팅(L3 책임)까지 하려면 복잡도 증가
  - 호환성: 모든 장비/OS의 합의를 따라야 통신 가능
  - 전달 보장/제어 기능: 계층을 건너뛰면 해당 계층이 제공하는 서비스 이용 불가
* 각 계층은 아래 계층이 제공하는 서비스 이용 + 위 계층에 서비스 제공
* 임의로 건너뛰려면 표준 동작과 호환성 깨짐

---

## 📎 참고 자료

<!-- 공부하면서 참고한 링크를 여기에 추가해주세요 -->

---

## 💬 토론 포인트

<!-- PR 리뷰 또는 스터디 중 나온 추가 질문이나 논의 사항을 기록해주세요 -->
