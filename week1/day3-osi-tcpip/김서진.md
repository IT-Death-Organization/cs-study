# Day 3: OSI 7계층과 TCP/IP 4계층
> 📅 2025.02.15 | 📁 Week 1

---

## 🧠 학습 질문

- [ ] OSI 7계층은 왜 나누어졌는가? 계층화의 장점은?
- [ ] 각 계층의 역할과 프로토콜 예시는?
- [ ] TCP/IP 4계층과 OSI 7계층의 차이는?
- [ ] 캡슐화와 역캡슐화란 무엇이며 어떻게 동작하는가?
- [ ] 실제 통신에서는 어떤 모델을 사용하는가?
- [ ] 계층을 넘어서 통신할 수 없는 이유는?

---

## 1. OSI 7계층은 왜 나누어졌는가? 계층화의 장점은?
OSI 7 계층이란 Open Systems Interconnection의 준말로 국체 표준화 기구인 ISO에서 개발한 컴퓨터 네트워크 프로토콜 모델이다. (오늘날 쓰는 프로토콜은 TCP/IP이지만 OSI 7계층과 TCP/IP 모두 네트워킹을 계층구조로 나눈다는 공통점이 있다.)

OSI 7 계층은 서로 다른 통신 시스템 사이의 충돌 상황을 줄이기 위해 탄생했다. 이는 네트워크 통신 과정을 7개의 계층으로 분리하여 각 계층이 특정 기능을 수행하도록 한다.

그렇다면, 왜 7 계층으로 나누어졌을끼?
이유는 간단하다. 통신이 일어나는 과정을 분리함으로써 개발과 유지보수가 용이해지기 때문이다. 만약 7단계 중, 특정한 곳에 이상이 생기면 다른 단계의 장비나 소프트웨어를 건드리지 않고 문제가 발생한 단계만 고칠 수 있다.

OSI 7 계층의 장점은 3가지로 정리할 수 있다.
1. 모듈화: 각 계층은 독립적으로 설계되어 있으므로, 하나의 계층을 수정하더라도 다른 계층에는 영향을 주지 않는다.
2. 표준화: OSI 모델은 국제 표준화 기구에서 정의하고 있으므로 다양한 시스템과 기기 간의 호환성을 보장한다.
3. 간소화: 각 계층은 자신의 역할에만 집중하므로 복잡한 네트워크 통신을 단순화할 수 있다.

---

## 2. 각 계층의 역할과 프로토콜 예시는?
OSI 7 계층은 다음과 같이 나뉜다:
    7. Application Layer
    6. Presentation Layer
    5. Session Layer
    4. Transport Layer
    3. Network Layer
    2. Data Link Layer
    1. Physical Layer

### 1. Physical Layer(물리 계층)
    - 실제 장비, 회선과 관련된 특성 규정 (물리적 연결)
    - 물리적인 데이터 전송 경로를 제공하며, 전기 신호, 빛 등으로 데이터를 전송
    - 프로토콜: 이더넷, FDDI 등

### 2. Data Link Layer
    - LAN 내부 같은 내트워크에 있는 여러대 컴퓨터 데이터 교환
    - 프레이밍이 일어남
    - 전송단위: 프레임
    - 물리 계층으로부터 전송된 데이터의 오류를 검출하고 수정하며, 데이터 전송을 위한 물리적 주소 (MAC) 지정
    - 프로토콜: 이더넷, Token Ring, FDDI, HDLC 등

### 3. Network Layer
    - 패킷을 목적지까지 전달하고, 경로 선택 및 데이터 전송을 위한 논리적 주소 지정
    - 네트워크에서 목적지로 데이터 전송을 위해 IP주소를 이용해 최적의 경로를 찾고(routing), 다음 라우터에 데이터를 넘겨줌 (forwarding)
    - 프로토콜: IP, ICMP, ARP, RARP

### 4. Transport Layer(전송 계층)
    - 포트번호를 관리하여 수신된 데이터가 어느 응용프로그램에 전송될지 판독, 데이터 전송
    - 전송사용 프로토콜 결정(TCP or UDP)
    - 신뢰성 있는 통신 서비스를 제공하며, 패킷 분할 및 재조립, 오류 검출 및 복구
    - 프로토콜: TCP, UDP

### 5. Session Layer
    - 통신을 위한 세션 관리, 연결 설정 및 해제, 동기화
    - 송신시: 데이터복구를 위한 동기점(대동기점, 소동기점) 생성
    - 수신시: 동기점 확인
    - 프로토콜: NetBIOS, RPC, NFS

### 6. Presentation Layer
    - 데이터 표현과 변환을 담당하여 데이터를 응용 계층으로 전달
    - 응용계층으로부터 받은 Data를 수신측에 맞는 코드/형식으로 변환 혹은 반대의 과정 수행
    - 필요시 암호화 (반대의 경우 복호화)진행
    - 프로토콜: JPEG, MPEG, SSL 등

### 7. Application Layer(응용 계층)
    - 사용자와 직접 상호작용하는 소프트웨어를 지원
    - 사용자(응용프로그램)을 OSI 환경에 접속시킴
    - 프로토콜: HTTP, FTP, SMTP, DNS 등

---

## 3. TCP/IP 4계층과 OSI 7계층의 차이는?
TCP/IP 모델은 OSI와 비슷하게 네트워크에 필요한 기능을 4계층으로 나눈 모델이다. TCP/IP는 다음과 같은 4계층으로 나누어져 있다.
    4. 네트워크 연결 계층
    3. 인터넷 계층
    2. 전송 계층
    1. 응용 계층

OSI 모델은 TCP/IP의 응용 계층을 Application / Presentation / Session 세 계층으로 세분화한다. 따라서 OSI는 이론적으로 문제 분석과 역할 분리가 명확하다는 장점이 있다. 즉, OSI 모델은 계층이 더 촘촘하게 나뉘기 때문에 문제해결과 성능개선이 보다 간단해진다. 

그렇다면 왜 TCP/IP가 표준 프로토콜로 자리잡은 것일까? 
TCP/IP는 상위 계층을 통합하므로써 구조가 단순하면 구현 복잡도가 낮고, 개발과 유지보수가 용이하다. 또한 TCP/IP는 실제 인터넷 환경에서 먼저 구현되어 사용되었으며, 다양한 운영체제와 네트워크 장비에 채택되면서 사실상의 표준으로 자리 잡았다.

---

## 4. 캡슐화와 역캡슐화란 무엇이며 어떻게 동작하는가?
캡슐화란: 데이터를 보낼때 각 계층이 필요한 정보를 덧붙이는 과정(상위계층 데이터에 하위계층 정보)
역캡슐화란: 수신 측에서 반대로 헤더를 제거하는 과정이다.

예를 들어, 우리가 메시지를 보낸다고 가정해보자.
먼저 응용 계층에서 실제 메시지(데이터)가 만들어진다. 그 다음 전송 계층으로 내려가면, 이 데이터 앞에 출발지 포트 번호나 순서 번호 같은 정보가 붙는다. 그 다음 인터넷 계층에서는 출발지 IP 주소와 목적지 IP 주소 같은 정보가 추가된다. 마지막으로 네트워크 인터페이스 계층에서는 MAC 주소와 오류 확인을 위한 정보가 붙는다.

이처럼 각 단계에서 필요한 정보가 데이터 앞(또는 뒤)에 붙는 과정을 캡슐화라고 한다.
마치 편지를 보낼 때, 편지지를 봉투에 넣고 주소를 쓰고, 그 위에 배송 스티커를 붙이는 것과 비슷하다.

반대로, 데이터를 받는 쪽에서는 이 과정이 거꾸로 일어난다. 가장 바깥쪽 정보부터 하나씩 제거하면서 안에 들어 있는 실제 데이터를 꺼낸다. 이 과정을 역캡슐화라고 한다.

정리하면,
캡슐화는 데이터를 보내기 위해 각 계층이 정보를 덧붙이는 과정이고
역캡슐화는 데이터를 받으면서 그 정보를 하나씩 제거하는 과정이다.

쉽게 말하면,
보낼 때는 포장하고, 받을 때는 포장을 푸는 과정이다.

---

## 5. 실제 통신에서는 어떤 모델을 사용하는가?
실제 인터넷 통신에서는 TCP/IP 4계층 모델을 사용한다. OSI 7 계층은 이론적인 참조 모델이고, TCP/IP는 실제 구현 기반 모델이다. 

현대 인터넷은 IP, TCP, UDP, HTTP, FTP 등 TCP/IP 스택 기반 프로토콜 위에서 동작한다.

---

## 6. 계층을 넘어서 통신할 수 없는 이유는?
계층형 네트워크 구조에서는 각 계층이 서로 다른 역할을 담당하도록 설계되어 있다. 상위 계층은 데이터 생성과 처리에 집중하고, 하위 계층은 데이터 전달과 물리적 전송을 담당한다. 이러한 구조는 기능을 분리하여 설계의 복잡도를 줄이고, 특정 계층에 문제가 발생하더라도 다른 계층에 영향을 최소화하기 위한 목적을 가진다.

만약 계층을 건너뛰어 직접 통신하게 되면, 계층 간 의존성이 생기고 구조가 복잡해진다. 예를 들어 응용 계층이 물리 계층과 직접 통신한다면, 응용 프로그램은 전송 방식이나 네트워크 장비의 세부 동작까지 알아야 한다. 이렇게 되면 모듈화가 깨지고 유지보수와 확장이 매우 어려워진다.

또한 계층 구조에서는 같은 계층끼리 논리적으로 통신하도록 설계되어 있다. 실제 데이터는 반드시 하위 계층을 거쳐 전달되지만, 제어 정보는 대응되는 계층에서 해석된다. 이 원칙이 지켜져야 표준화와 상호 운용성이 가능하다.

따라서 계층을 넘어서 통신할 수 없는 이유는 네트워크 구조의 안정성, 독립성, 모듈화, 그리고 표준화를 유지하기 위해서이다.

---

## 📎 참고 자료
<!-- 공부하면서 참고한 링크를 여기에 추가해주세요 -->
https://mundol-colynn.tistory.com/167

---

## 💬 토론 포인트
<!-- PR 리뷰 또는 스터디 중 나온 추가 질문이나 논의 사항을 기록해주세요 -->
