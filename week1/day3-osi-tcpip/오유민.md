# Day 3: OSI 7계층과 TCP/IP 4계층

> 📅 2025.02.15 | 📁 Week 1

---

## 🧠 학습 질문

- [ ] OSI 7계층은 왜 나누어졌는가? 계층화의 장점은?
- [ ] 각 계층의 역할과 프로토콜 예시는?
- [ ] TCP/IP 4계층과 OSI 7계층의 차이는?
- [ ] 캡슐화와 역캡슐화란 무엇이며 어떻게 동작하는가?
- [ ] 실제 통신에서는 어떤 모델을 사용하는가?
- [ ] 계층을 넘어서 통신할 수 없는 이유는?

---

### 📌 [Q1] OSI 7계층은 왜 나누어졌는가? 계층화의 장점은?

과거에는 제조사마다 통신 방식이 달라 서로 다른 컴퓨터끼리 대화하려면 복잡한 변환 장치가 필요했다.
이를 해결하기 위해 ISO에서 정의한 네트워크 표준 모델이 바로 OSI 7계층이다.

**계층화의 장점**

- 모듈화 & 확장성 & 유지보수 용이: 각 계층은 자신의 역할만 수행하면 되고, 다른 계층에 영향을 미치지 않는다. (ex. 전송 방식 (TCP/UDP)을 바꿔도 응용 계층은 수정할 필요 x)
- 표준화: 서로 다른 제조사의 컴퓨터들이라도 같은 계층의 표준 프로토콜만 준수한다면 문제없이 통신할 수 있다.

**정리** <br>
OSI 7계층은 네트워크 통신의 복잡성을 줄이고, 서로 다른 시스템 간의 상호운용성을 확보하기 위해 표준화된 계층 구조로 나누어진 모델이다.
계층화의 가장 큰 장점은 모듈화와 책임 분리로, 특정 계층의 변경이 다른 계층에 영향을 최소화한다는 점이다. 또한 문제 발생 시 계층별로 디버깅이 가능해 유지보수가 용이하며, 기술 발전에 따라 특정 계층만 교체할 수 있어 확장성도 확보할 수 있다.

### 📌 [Q2] 각 계층의 역할과 프로토콜 예시는?

**1. 물리 계층(Physical Layer)**

- 전기적 신호가 나가는 물리적인 장비 (0과 1을 전기 신호로 변환)
- 장비: 허브, 리피터, 케이블
- 데이터 단위: bit

**2. 데이터 링크 계층(Data Link Layer)**

- 물리계층을 통해 송수신되는 정보의 오류 & 흐름 관리해 안전한 정보 전달을 수행할 수 있도록 도와주는 역할
- **통신에서의 오류도 찾고, 재전송도 하는 기능**을 가지고 있다.
- Mac 주소를 가지고 통신
- 장비: 이더넷, 스위치, 브릿지
- 데이터 단위: frame

**3. 네트워크 계층(Network Layer)**

- **경로(route)와 주소(ip)를 정하고 패킷을 전달**해주는 역할
- 목적지까지 가장 안전하고 빠르게 데이터를 보냄 (최적의 경로 선택 - routing)
- 프로토콜: IP, ICMP, 라우터
- 데이터 단위: 패킷

**4. 전송 계층(Transport Layer)**

- 송신자와 수신자 간의 **신뢰성있는 데이터 송수신을 가능하게** 해주는 역할
- 오류 검출 및 복구, 흐름 제어, 중복 검사 등 수행
- 데이터 전송을 위해서 포트번호 사용
- 프로토콜: TCP, UDP
- 데이터 단위: 세그먼트

**5. 세션 계층(Session Layer)**

- 세션 연결 생성, 유지 종료 등 수행 (TCP/IP 세션을 만들고 없애는 역할)
- 동기화 관리
- 프로토콜: SSH, RPC, WinSock

**6. 표현 계층(Presentation Layer)**

- **전송하는 데이터의 표현방식을 결정** (ex. 데이터 형식 변환, 압축, 암호화, 복호화, 인코딩 등)
- 프로토콜: SSL/TLS, JPEG, MPEG, GIF

**7. 응용 계층(Application Layer)**

- 사용자 인터페이스, 네트워크 서비스 제공
- 사용자와 가장 가까운 계층으로, 응용 서비스나 프로세스가 이 계층에서 동작한다.
- 프로토콜: HTTP, FTP, SMTP, DNS

### 📌 [Q3] TCP/IP 4계층과 OSI 7계층의 차이는?

**OSI 7계층이 통신의 표준을 정의한 이론적 모델이라면, TCP/IP 4계층은 인터넷에서 사용하는 실제 표준 모델**이다.
복잡한 OSI 7계층을 4-5계층으로 분류하여 적용한 형태이다.

TCP/IP는 OSI의 세션 계층(5), 표현 계층(6), 응용 계층(7)을 하나의 응용 계층으로 합쳤다.
왜냐하면 현대의 앱 개발에서는 세션/표현 계층을 별도의 네트워크 계층이 아닌, 해당 애플리케이션 안에서 소프트웨어적으로 처리하는 것이 더 효율적이기 때문이다.

또한 OSI는 각 계층마다 에러 체크와 신뢰성을 확보하려는 경향이 강하다.
반면, TCP/IP는 하위 계층은 단순히 데이터를 전달하는 데 집중하고, 신뢰성은 상위 계층인 전송 계층(TCP)에서 주로 책임진다.

**<TCP/IP 4계층>**

1. 네트워크 엑세스 계층 (이더넷)
2. 인터넷 계층 (IP)
3. 전송 계층 (TCP, UDP)
4. 애플리케이션 계층 (HTTP, FTP, DNS, SMTP)

<details>
<summary>IP란?</summary>
<div markdown="1">
• 인터넷 프로토콜 <br />
• 지정된 IP 주소에 데이터 조각을 "패킷"이라는 통신 단위로 최대한 빨리 목적지로 보내는 역할<br />
• 데이터 순서가 뒤바뀌거나 누락되어도 상관하지 않고 보내는 데 집중<br />
-> IP 프로토콜은 패킷 순서 보장 x & 중간에 패킷 유실되어도 방안 x
</div>
</details>
<br />

<details>
<summary>TCP란?</summary>
<div markdown="1">
• 전송 제어 프로토콜 <br />
• 패킷 데이터의 순서 & 전달을 보증<br />
• 도착한 데이터를 점검해 줄을 세우고, 누락되거나 손상된 데이터는 다시 요청해 순서 보증<br />
• 3 way 핸드쉐이킹을 통해 패킷이 잘 보내졌는지를 확인 <br />
-> TCP는 IP의 문제를 보완해주는 역할
</div>
</details>
<br />

### 📌 [Q4] 캡슐화와 역캡슐화란 무엇이며 어떻게 동작하는가?

네트워크 통신에서 데이터는 계층을 이동할 때마다 각 계층의 정보를 담은 **헤더**가 붙거나 떨어진다.

- 캡슐화(Encapsulation)
  - 송신 측에서 상위 계층의 데이터를 하위 계층으로 보낼 때, 각 계층의 헤더(제어 정보)를 붙여나가는 과정
- 역캡슐화(Decapsulation)
  - 수신 측에서 하위 계층의 데이터를 상위 계층으로 올릴 때, 각 계층의 헤더를 하나씩 제거하며 원래 데이터를 추출하는 과정

<details>
<summary>캡슐화 (7계층 -> 1계층)</summary>
<div markdown="1">
• 응용 계층: 사용자가 작성한 데이터(예: "안녕하세요") 생성. <br>
• 전송 계층: 데이터 앞에 TCP 헤더(포트 번호 등)를 붙여 세그먼트(Segment)를 만듭니다. (내용물 확인증 붙이기)<br>
• 네트워크 계층: 세그먼트 앞에 IP 헤더(출발지/목적지 IP 등)를 붙여 패킷(Packet)을 만듭니다.(송장 붙이기) <br>
• 데이터 링크 계층: 패킷 앞에 이더넷 헤더(MAC 주소 등)와 에러 체크를 위한 트레일러를 붙여 프레임(Frame)을 만듭니다. (택배 박스 포장)<br>
• 물리 계층: 최종 프레임을 비트(0, 1) 신호로 바꾸어 전선이나 무선망으로 쏩니다.<br>
</div>
</details>
<br />

<details>
<summary>역캡슐화 (1계층 -> 7계층)</summary>
<div markdown="1">
• 물리 계층: 전기 신호를 받아 다시 디지털 데이터(비트)로 복구합니다. <br>
• 데이터 링크 계층: 이더넷 헤더를 확인해 내 MAC 주소가 맞는지 확인하고 헤더를 떼어냅니다.<br>
• 네트워크 계층: IP 헤더를 확인해 내 IP가 맞는지 확인하고 헤더를 떼어냅니다. <br>
• 전송 계층: TCP 헤더를 확인해 어느 앱(포트)으로 보낼지 확인하고 헤더를 떼어냅니다. (택배 박스 포장)<br>
• 응용 계층: 최종적으로 포장이 다 벗겨진 원래 데이터("안녕하세요")를 사용자에게 보여줍니다.<br>
</div>
</details>
<br />

**정리** <br>
캡슐화란 송신 측에서 상위 계층의 데이터에 각 계층의 헤더를 추가하여 하위 계층으로 전달하는 과정입니다. 예를 들어 HTTP 데이터에 TCP 헤더가 붙어 세그먼트가 되고, 여기에 IP 헤더가 붙어 패킷이 되며, 다시 MAC 헤더가 붙어 프레임이 됩니다. 반대로 수신 측에서는 각 계층을 올라가며 헤더를 제거하는 역캡슐화 과정을 통해 원래의 데이터만 추출하게 됩니다.

### 📌 [Q5] 실제 통신에서는 어떤 모델을 사용하는가?

실제 인터넷 통신에서는 TCP/IP 4계층 모델을 사용합니다. OSI 7계층은 ISO에서 제안한 이론적 참조 모델로 개념 설명에 사용되지만, 실제 구현된 프로토콜 스택은 TCP/IP 기반입니다. HTTP, TCP, IP와 같은 프로토콜이 동작하는 구조가 바로 TCP/IP 모델입니다. 다만 네트워크 계층 구조를 명확히 정의하고 문제 발생 시 원인을 파악하기 위한 참조 모델로는 OSI 7계층을 활용합니다.

### 📌 [Q6] 계층을 넘어서 통신할 수 없는 이유는?

계층 간의 통신은 인접한 계층끼리의 약속된 인터페이스를 통해서만 이루어집니다. 이를 건너뛰면 통신에 필수적인 제어 정보(Header)가 누락되어 데이터의 목적지를 찾을 수 없게 되며, 모듈화의 장점, 네트워크 시스템의 독립성, 유지보수성이 파괴되기 때문에 반드시 순차적인 단계를 거쳐야 합니다.

(각 계층은 바로 아래 계층의 서비스만 사용, 항상 한 단계씩만 이동 가능!)

---

## 📎 참고 자료

<!-- 공부하면서 참고한 링크를 여기에 추가해주세요 -->

https://inpa.tistory.com/entry/WEB-%F0%9F%8C%90-OSI-7%EA%B3%84%EC%B8%B5-%EC%A0%95%EB%A6%AC

---

## 💬 토론 포인트

<!-- PR 리뷰 또는 스터디 중 나온 추가 질문이나 논의 사항을 기록해주세요 -->
