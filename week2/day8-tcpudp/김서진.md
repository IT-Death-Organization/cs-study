# Day 8: TCP vs UDP
> 📅 2025.02.20 | 📁 Week 2
---
## 🧠 학습 질문
- [ ] TCP와 UDP의 차이는? 각각 어떤 상황에서 사용하는가?
- [ ] TCP는 어떻게 신뢰성을 보장하는가? (ACK, 재전송, 순서 보장)
- [ ] 3-way handshake의 동작 과정과 존재 이유는?
- [ ] 4-way handshake의 동작 과정은? TIME_WAIT 상태는 왜 필요한가?
- [ ] 흐름 제어와 혼잡 제어의 차이는? 각각 어떻게 동작하는가?
- [ ] Sliding Window는 어떻게 동작하는가?
- [ ] UDP는 언제 사용하는가? (실시간 스트리밍, DNS, DHCP 등)
---

### 1. TCP와 UDP의 차이는? 각각 어떤 상황에서 사용하는가?
TCP와 UDP는 전송 계층의 프로토콜이다. 프로토콜은 클라이언트와 서버가 정보를 교환할 수 있도록 하는 **메세지 형식에 대한 규칙**이다. 즉, 전송 받은 메세지를 이해하려면 설계된 규칙에 따라 작성된 데이터 형식이어야 한다는 뜻이다. (TCP/UDP 외에도 HTTP와 IP 프로토콜이 있다.)
- **TCP(Transmission Control Protocol)**는 인터넷에서 **데이터를 신뢰성 있게** 보내기 위한 프로토콜이다. TCP는 연결형으로, 데이터를 보내기 전에 반드시 연결 설정을 하여 신뢰성(순서, 오류제어 등)을 보장하지만 상대적으로 속도가 느리다.
    - 데이터를 순서대로, 빠짐없이, 중복없이, 에러없이 전달.
- **UDP(User Datagram Protocol)**는 속도와 단순성을 위해 신뢰성을 포기한 프로토콜이다. UDP는 비연결형으로 속도와 효율성을 중시하여 데이터 손실 가능성이 있지만 속도가 빠르다.
    - 그냥 보낸다. 확인 안한다. 재전송 안한다.

---

### 2. TCP는 어떻게 신뢰성을 보장하는가? (ACK, 재전송, 순서 보장)
1. ACK(Acknowledgement): 도착 확인 매커니즘
TCP는 데이터를 보내면 반드시 확인 응답(ACK)을 기다린다. 송신자가 데이터를 보내면, 수신자가 정상적으로 수신을 완료했다는 확인 바이트를 보낸다는 뜻이다. 
```text
송신자 → [SEQ=1000, 길이=500] → 수신자
송신자 ← [ACK=1500] ← 수신자
```
ACK=1500 의미: "1000~1499 바이트까지 정상 수신 완료"
TCP는 누적 ACK 방식을 사용하여, 중간에 빠지면 그 이후는 인정하지 않는다.

2. 재전송
TCP는 두가지 방식으로 재전송을 수행한다.
    1) 타임아웃 기반 재전송
        - 일정 시간 안에 ACK가 오지 않으면 재전송
        ```text
        send -> ACK 대기 -> 시간초과 -> 재전송
        ```
    2) Fast 재전송
        - 같은 ACK가 3번 오면 즉시 재전송
        ```text
        ACK = 1500
        ACK = 1500
        ACK = 1500
        ```
        -> "1500 이후가 문제이구나"라고 이해하고 즉시 해당 세그먼트 재전송한다. 이때는 타임아웃을 기다리지 않는다.

3. 순서 보장
TCP는 데이터 패킷에 **순서 번호(sequence number)**를 부여하여 수신자가 패킷을 올바른 순서대로 **재조립**할 수 있도록 한다. 만약 순서대로 도착하지 않으면, 누락된 패킷이 도착할때까지 대기하고 그 후에 패킷을 순서대로 재조립하여 애플리케이션에 전달한다.

정리하자면, TCP는 데이터를 전송하고
-> Sequence number 부여
-> 수신자가 ACK 반환
-> ACK 없으면 재전송
-> 중복 ACK 3회이면 Fast 재전송
-> 수신자는 번호 기준 정렬
구조를 따른다. 신뢰성이란, 데이터 유실 시 복구, 순서 정렬, 중복 제거, 데이터 손상 검출을 보장하므로 TCP는 위와 같은 방법들로 신뢰성을 보장하는 프로토콜이다.

---

### 3. 3-way handshake의 동작 과정과 존재 이유는?
### 4. 4-way handshake의 동작 과정은? TIME_WAIT 상태는 왜 필요한가?
### 5. 흐름 제어와 혼잡 제어의 차이는? 각각 어떻게 동작하는가?
### 6. Sliding Window는 어떻게 동작하는가?
### 7. UDP는 언제 사용하는가? (실시간 스트리밍, DNS, DHCP 등)
## 📎 참고 자료
<!-- 공부하면서 참고한 링크를 여기에 추가해주세요 -->
---
## 💬 토론 포인트
<!-- PR 리뷰 또는 스터디 중 나온 추가 질문이나 논의 사항을 기록해주세요 -->
